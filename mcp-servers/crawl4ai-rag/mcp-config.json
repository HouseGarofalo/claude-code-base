{
  "$schema": "https://raw.githubusercontent.com/anthropics/anthropic-cookbook/main/misc/mcp_config_schema.json",
  "_comment": "MCP configuration for Crawl4AI server v2.0 with Vector RAG and Graph RAG",

  "mcpServers": {
    "crawl4ai": {
      "_comment": "Basic configuration - credentials auto-loaded from ~/.claude/.env",
      "command": "python",
      "args": ["-m", "src.crawl4ai_mcp_server"],
      "cwd": "${workspaceFolder}/mcp-servers/crawl4ai-rag",
      "env": {
        "TRANSPORT": "stdio",
        "HEADLESS": "true",
        "BROWSER_TYPE": "chromium",
        "MEAN_DELAY": "0.5",
        "MAX_CONCURRENT": "5"
      }
    },

    "crawl4ai-entry-point": {
      "_comment": "Using installed entry point (after pip install -e '.[all]')",
      "command": "crawl4ai-mcp",
      "env": {
        "TRANSPORT": "stdio",
        "HEADLESS": "true"
      }
    },

    "crawl4ai-docker": {
      "_comment": "Using Docker container (basic crawling)",
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "--name", "crawl4ai-mcp",
        "-e", "TRANSPORT=stdio",
        "-e", "HEADLESS=true",
        "crawl4ai-mcp:latest"
      ]
    },

    "crawl4ai-docker-full": {
      "_comment": "Docker with full RAG support (Vector + Graph)",
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "--name", "crawl4ai-mcp-full",
        "--network", "host",
        "-v", "${env:USERPROFILE}/.claude/.env:/app/.env:ro",
        "-e", "TRANSPORT=stdio",
        "-e", "HEADLESS=true",
        "crawl4ai-mcp:full"
      ]
    },

    "crawl4ai-with-vector-rag": {
      "_comment": "With Vector RAG only (Supabase + Azure OpenAI) - explicit env vars",
      "command": "python",
      "args": ["-m", "src.crawl4ai_mcp_server"],
      "cwd": "${workspaceFolder}/mcp-servers/crawl4ai-rag",
      "env": {
        "TRANSPORT": "stdio",
        "HEADLESS": "true",
        "AZURE_OPENAI_ENDPOINT": "${env:AZURE_OPENAI_ENDPOINT}",
        "AZURE_OPENAI_API_KEY": "${env:AZURE_OPENAI_API_KEY}",
        "AZURE_OPENAI_API_VERSION": "${env:AZURE_OPENAI_API_VERSION}",
        "AZURE_EMBEDDING_DEPLOYMENT": "${env:AZURE_EMBEDDING_DEPLOYMENT}",
        "SUPABASE_URL": "${env:SUPABASE_URL}",
        "SUPABASE_SERVICE_ROLE_KEY": "${env:SUPABASE_SERVICE_ROLE_KEY}"
      }
    },

    "crawl4ai-with-graph-rag": {
      "_comment": "With Graph RAG only (Neo4j) - explicit env vars",
      "command": "python",
      "args": ["-m", "src.crawl4ai_mcp_server"],
      "cwd": "${workspaceFolder}/mcp-servers/crawl4ai-rag",
      "env": {
        "TRANSPORT": "stdio",
        "HEADLESS": "true",
        "NEO4J_URI": "${env:NEO4J_URI}",
        "NEO4J_USERNAME": "${env:NEO4J_USERNAME}",
        "NEO4J_PASSWORD": "${env:NEO4J_PASSWORD}"
      }
    },

    "crawl4ai-full-rag": {
      "_comment": "Full RAG (Vector + Graph) - explicit env vars",
      "command": "python",
      "args": ["-m", "src.crawl4ai_mcp_server"],
      "cwd": "${workspaceFolder}/mcp-servers/crawl4ai-rag",
      "env": {
        "TRANSPORT": "stdio",
        "HEADLESS": "true",
        "AZURE_OPENAI_ENDPOINT": "${env:AZURE_OPENAI_ENDPOINT}",
        "AZURE_OPENAI_API_KEY": "${env:AZURE_OPENAI_API_KEY}",
        "AZURE_OPENAI_API_VERSION": "${env:AZURE_OPENAI_API_VERSION}",
        "AZURE_EMBEDDING_DEPLOYMENT": "${env:AZURE_EMBEDDING_DEPLOYMENT}",
        "SUPABASE_URL": "${env:SUPABASE_URL}",
        "SUPABASE_SERVICE_ROLE_KEY": "${env:SUPABASE_SERVICE_ROLE_KEY}",
        "NEO4J_URI": "${env:NEO4J_URI}",
        "NEO4J_USERNAME": "${env:NEO4J_USERNAME}",
        "NEO4J_PASSWORD": "${env:NEO4J_PASSWORD}"
      }
    },

    "crawl4ai-sse": {
      "_comment": "SSE transport for debugging - visit http://localhost:8000/sse",
      "transport": {
        "type": "sse",
        "url": "http://localhost:8000/sse"
      }
    }
  }
}
